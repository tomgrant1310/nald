!function(b){var a=function(d,c){this.default_opts={trigger:"hover",style:"awemenu-default",position:"standard",hoverTime:500,sticky:!0,stickyOffset:0,enableAnimation:!0,defaultDesktopAnimation:"fadeup",defaultDesktopAnimationDuration:300,mobileTrigger:"click",mobileStyle:"awemenu-mobile-default",mobilePosition:"standard",mobileAnimationDuration:500,responsiveWidth:780,customMenuBar:'<span class="fa fa-bars"></span>',showArrow:!0,showMobileArrow:!0,arrows:{up:"fa fa-angle-up",down:"fa fa-angle-down",left:"fa fa-angle-left",right:"fa fa-angle-right",mobileClose:"fa fa-close"},initialize:function(){},ready:function(){},beforeActive:function(){},active:function(){},beforeDeactive:function(){},deactive:function(){},destroy:function(){}},this.$el=d,c.arrows=b.extend({},this.default_opts.arrows,c.arrows),this.options=b.extend({},this.default_opts,c),c.initialize&&(this.options.initialize=c.initialize),this.menuID=d.attr("id"),this.menuID||(this.menuID="awemenu-no-"+b(".awemenu-nav").index(d),d.attr("id",this.menuID)),this.validateOptions(),this.initialize()};a.prototype={constructor:a,initialize:function(){this.isMobile=-1,this.ww=0,this.stickyActivated=!1,this.initializedTrigger=!1,this.menuTop=this.$el.offset().top,this.classes=[],this.itemsReady=0,this.stickyReplacerID="awemenu-scticky-replacer-"+this.getMenuIndex(),this.initMenu(),this.initTrigger()},initMenu:function(){var d=this,c=this.options;if(!b(".awemenu-bars",this.$el).length){var e=b('<div class="awemenu-bars" />').html(c.customMenuBar);b(".awemenu",this.$el).before(e)}b("i.awemenu-arrow",this.$el).remove(),this.$el.bind("windowResize",function(g,f){d.onResize(f)}),b(window).resize(function(f){d.$el.trigger("windowResize",f)}),b(window).trigger("resize"),this.$el.bind("windowScroll",function(g,f){d.onScroll(f)}),b(window).scroll(function(g,f){f?d.$el.trigger("windowScroll",f):d.$el.trigger("windowScroll",g)}),this.$el.bind("documentClick",function(g,f){d.onDocumentClick(f)}),b(document).click(function(f){d.$el.trigger("documentClick",f)}),this.isTouchDevice&&this.initDocumentTouch(),b(".awemenu-bars",this.$el).click(function(f){f.preventDefault(),d.isReady&&d.onMenuBarClick()}),c.initialize(this)},setOption:function(c){"object"==b.type(c)&&(this.options=b.extend({},this.options,this.validateOptions(c)),this.destroy(),this.initialize(),this.$el.data("awe-menu",this))},getObjectProperties:function(d){var c=[];return d&&"object"==b.type(d)&&b.each(d,function(f){c.push(f)}),c},validateOptions:function(d){var c=this,e=this.getObjectProperties(this.default_opts);return d&&"object"===b.type(d)||(d=this.options),b.each(d,function(g,f){if(-1===!b.inArray(g,e)){delete d[g]}else{switch(g){case"trigger":-1===b.inArray(f,["click","hover","toggle"])&&(d[g]="hover");break;case"mobileTrigger":-1===b.inArray(f,["click","toggle"])&&(d[g]="click");break;case"position":case"mobilePosition":-1===b.inArray(f,["standard","top","left","bottom","right","outleft","outright"])&&(d[g]="standard");break;case"hoverTime":case"defaultDesktopAnimationDuration":case"mobileAnimationDuration":case"responsiveWidth":f=parseInt(f),d[g]=f,isNaN(f)&&(d[g]=c.default_opts[g]);break;case"initialize":case"ready":case"beforeActive":case"active":case"beforeDeactive":case"deactive":case"destroy":"function"!==b.type(f)&&(d[g]=c.default_opts[g]);break;case"mobileStyle":case"style":""==f&&(d[g]=c.default_opts[g])}}}),d&&"object"===b.type(d)||(this.options=d),d},getOption:function(c){return c?this.options[c]:this.options},destroy:function(){this.itemsReady=0,this.isMobile=-1,this.stickyActivated=!1,this.initializedTrigger=!1,this.$el.data("awe-menu",!1),b("#"+this.stickyReplacerID).remove(),this.$el.removeClass(this.classes.join(" ")),this.classes=[],b(".awemenu-item",this.$el).unbind("mouseenter").unbind("mouseleave"),b(".awemenu-item > a",this.$el).unbind("click"),b(".awemenu-item > a > .awemenu-arrow",this.$el).unbind("click"),b(".awemenu-submenu",this.$el).each(function(){var d=b(this),c=d.data("animation");c&&d.parent().removeClass("awemenu-"+c),d.removeAttr("style")}),this.$el.unbind("windowResize").unbind("documentClick").unbind("windowScroll").unbind("aweMenuReady").undelegate(".awemenu-arrow","click"),b(".awemenu-bars",this.$el).unbind("click").remove(),this.options.destroy(this)},detectDevice:function(){var d=window.innerWidth,c=this.options;b('<div class="awemenu-bars"><span class="fa fa-bars"></span></div>');this.isTouchDevice=navigator.userAgent.match(/Androi|WebOS|iPod|iPad|Blackberry|Windows Phone/i)?!0:!1,this.isTouchDevice&&"hover"==this.options.trigger&&(this.options.trigger="click"),d<this.options.responsiveWidth?this.isMobile&&-1!==this.isMobile||(this.isMobile=!0,this.addMenuClasses(["awemenu-mobile",c.mobileStyle,"awemenu-mobile-"+c.mobilePosition]),this.removeMenuClasses([c.style,"awemenu-"+c.position])):(this.isMobile||-1===this.isMobile)&&(this.isMobile=!1,this.removeMenuClasses(["awemenu-mobile",c.mobileStyle,"awemenu-mobile-"+c.mobilePosition]),this.addMenuClasses([c.style,"awemenu-"+c.position])),!this.isMobile&&this.options.enableAnimation?this.addMenuClasses("awemenu-animation"):this.removeMenuClasses("awemenu-animation")},resetMenu:function(){var c=this;b(".awemenu-item.awemenu-active",this.$el).each(function(){c.deactiveSubMenu(b(this))}),this.$el.hasClass("awemenu-active")&&(this.isMobile||b.inArray(this.options.position,["outleft","outright"])>-1)&&c.onMenuBarClick()},onMenuBarClick:function(){var d=this,c=this.options;if(this.isMobile&&b("body").toggleClass("awemenu-"+this.getMenuIndex()+"-mobile-active"),-1===b.inArray(c.mobilePosition,["outleft","outright"])&&-1===b.inArray(c.position,["outleft","outright"])){var e=b("ul.awemenu",d.$el);d.$el.hasClass("awemenu-active")?e.slideUp(c.mobileAnimationDuration,function(){d.$el.removeClass("awemenu-active")}):e.slideDown(c.mobileAnimationDuration,function(){d.$el.addClass("awemenu-active")})}else{d.$el.toggleClass("awemenu-active")}},initTrigger:function(){var c=this;this.$el.bind("aweMenuReady",function(){"hover"===c.options.trigger&&c.initTriggerHover(b(this)),c.initTriggerClick(b(this)),c.initializedTrigger=!0,c.options.ready(c)})},initTriggerHover:function(){var c=this;b("li.awemenu-item",this.$el).bind("mouseenter",function(){var d=b(this),e=d.data("hide-submenu");!c.isMobile&&c.isReady&&(d.data("hover-out",!1),e&&(clearTimeout(e),d.data("hide-submenu")),b("> a",d).length&&setTimeout(function(){d.data("hover-out")||c.activeSubMenu(d)},c.options.hoverTime))}).bind("mouseleave",function(){var d=b(this);!c.isMobile&&c.isReady&&(d.data("hover-out",!0),c.deactiveSubMenu(d))})},initTriggerClick:function(){var d=this,c=this.options;b("li.awemenu-item > a",this.$el).click(function(e){var f=b(this).parent();if(!d.isReady){return void e.preventDefault()}if(d.isMobile||"hover"!==c.trigger){if(f.hasClass("awemenu-active")){if(d.deactiveSubMenu(f),!d.isMobile&&"toggle"==c.trigger||d.isMobile&&"toggle"==c.mobileTrigger){return void e.preventDefault()}}else{if(b("> .awemenu-submenu",f).length){return e.preventDefault(),void d.activeSubMenu(f)}}d.resetMenu()}}),b("i.awemenu-arrow",this.$el).click(function(e){var f=b(this).parents("li.awemenu-item:first");d.isMobile&&f.hasClass("awemenu-active")&&(e.preventDefault(),e.stopPropagation(),d.deactiveSubMenu(f))})},initDocumentTouch:function(){var d=this,c=!1;b(document).bind("touchstart",function(){c=!0}),b(document).bind("touchmove",function(){c=!1}),b(document).bind("touchend",function(f){c&&d.onDocumentClick(f)})},initMenuItems:function(){var d=this,c=0;this.isReady=!1,this.itemsReady=0,this.totalItems=0,(!this.isMobile&&this.options.showArrow||this.isMobile&&this.options.showMobileArrow)&&!b(".awemenu-arrow",this.$el).length&&b(".awemenu-item > a",this.$el).append(b('<i class="awemenu-arrow"></i>').addClass(this.options.arrows.up)),this.stickyReplacer&&(this.stickyReplacer.remove(),this.stickyReplacer=null),b("li.awemenu-item.awemenu-active-trail",this.$el).parents(".awemenu-item").addClass("awemenu-active-trail"),b(".awemenu-item > a",this.$el).css("transition","none"),this.removeMenuClasses("awemenu-animation"),b(".awemenu-submenu",this.$el).removeAttr("style").css({display:"block",opacity:0,visibility:"hidden"}),b("ul.awemenu",this.$el).removeAttr("style"),b.inArray(this.options.position,["outleft","outright"])>-1&&(b("ul.awemenu",this.$el).css({transition:"none",opacity:0,visibility:"hidden"}),this.$el.addClass("awemenu-active")),b(".awemenu-item > a",this.$el).css("transition","none"),setTimeout(function(){b("ul.awemenu > li.awemenu-item",d.$el).each(function(){if(!b(this).parent().hasClass("awemenu-megamenu")){var f=b(this);d.totalItems++,d.initMenuItem(f)}})},100);var e=setInterval(function(){d.itemsReady>=c&&(clearInterval(e),b(".awemenu-submenu",d.$el).css({display:"",opacity:"",visibility:""}),b.inArray(d.options.position,["outleft","outright"])>-1&&(d.$el.removeClass("awemenu-active"),b("ul.awemenu",d.$el).css({transition:"",opacity:"",visibility:""})),b(".awemenu-item > a",this.$el).css("transition",""),!d.isMobile&&d.options.enableAnimation&&setTimeout(function(){d.addMenuClasses("awemenu-animation")},50),d.initializedTrigger||d.$el.trigger("aweMenuReady"),d.isMobile&&(b.inArray(d.options.mobilePosition,["top","bottom"])>-1||d.stickyActivated)&&d.setMenuMaxHeight(),b(".awemenu-item > a",d.$el).css("transition",""),d.isReady=!0)},100)},initMenuItem:function(c){c.data("right-item")&&!b.inArray(this.options.position,["left","right","outright","outleft"])>-1&&c.addClass("awemenu-item-right"),b("> .awemenu-submenu",c).length&&c.addClass("awemenu-has-children"),this.initItemArrow(c),this.initSubMenu(c),this.options.enableAnimation&&this.initSubmenuAnimation(c),this.itemsReady++},initItemArrow:function(e){if((!this.isMobile&&this.options.showArrow||this.isMobile&&this.options.showMobileArrow)&&b("> .awemenu-submenu",e).length){var d,f=this.options,h=e.parents(".awemenu-item").length?!1:!0,c=(b.inArray(f.position,["left","right","outleft","outright"])>-1,b.inArray(f.position,["right","outright"])>-1),g=(b.inArray(f.position,["left","outleft"])>-1,f.arrows.right);if(d=b("> a > .awemenu-arrow",e).removeClass().show(),this.isMobile){g=f.arrows.down}else{if(c){g=f.arrows.left}else{if(h){switch(f.position){case"standard":case"top":g=f.arrows.down;break;case"right":g=f.arrows.left;break;case"bottom":g=f.arrows.up}}}}d.addClass("awemenu-arrow").addClass(g)}else{b(".awemenu-arrow",e).hide()}},initSubmenuAnimation:function(d){if(!this.isMobile&&b("> .awemenu-submenu",d).length){var c=b("> .awemenu-submenu",d),e=c.attr("data-animation")?c.attr("data-animation"):this.options.defaultDesktopAnimation,f=c.attr("data-duration");e&&(d.addClass("awemenu-"+e),f||(f=this.options.defaultDesktopAnimationDuration),isNaN(parseInt(f))||(f=parseInt(f)+"ms",c.css("transition-duration",f)))}},initSubMenu:function(ad){if(ad.removeClass("awemenu-invert awemenu-vertical-invert"),b("> .awemenu-submenu",ad).length){var an,ae=this,ai=this.options,av=window.innerWidth,ah=b.inArray(ai.position,["left","right","outleft","outright"])>-1,af=b.inArray(ai.position,["right","outright"])>-1,ac=b.inArray(ai.position,["left","outleft"])>-1,ak=ah?b("ul.awemenu",this.$el):b(".awemenu-container",this.$el),ao=ak.width(),at=af?av-(ak.offset().left+ao):ak.offset().left,aj=ak.offset().top,ar=ac?av-at:ak.offset().left+ao,aa=ad.parents(".awemenu-item:first"),aq=b("> .awemenu-submenu",ad),ag=aq.hasClass("awemenu-megamenu"),ab=aq.width(),au=aq.data("width"),ap=1==aq.parents(".awemenu-item").length?!0:!1;ad.parents(".awemenu-item-right").length;if(!this.isMobile){switch(ai.position){case"right":case"outright":an=ad.offset().left-ab;break;case"left":case"outleft":an=ad.offset().left+ad.width();break;default:an=ad.offset().left}switch(b.type(au)){case"string":au=isNaN(parseInt(au))?ab:au.indexOf("%")>-1?parseInt(au)<100?Math.round(parseInt(au)*ao/100):ah?ab:ao:parseInt(au);break;case"number":break;default:au=ab}if(ap&&!ah){var Y=aq.attr("data-hoz-align")?aq.attr("data-hoz-align"):!1;au>=ao?(au=ao,aq.offset({left:at})):Y!==!1&&b.inArray(Y,["left","center","right"])>-1?("center"===Y?(an=an+ad.width()/2-au/2,at>an?an=at:an+au>ar&&(an=ar-au)):"right"===Y&&(an=an+ad.width()-au,at>an&&(an=at)),aq.offset({left:an})):an+au>ar&&aq.offset({left:ar-au}),au!==ab&&aq.width(au)}else{var J,al=b("> a > .awemenu-arrow",ad),U=af&&!aa.hasClass("awemenu-invert")||aa.hasClass("awemenu-invert")&&!af,V=ad.offset().left,W=V+ad.width(),an=U?V:W,Q=ag&&au===ab&&(ah||!ap),e=aq.attr("data-position");if(al.removeClass(ai.arrows.up+" "+ai.arrows.down+" "+ai.arrows.left+" "+ai.arrows.right+" "+ai.arrows.mobileClose),U){var K=ag?av-ar:0,X=an-K,B=ag?ar-W:av-W,q=!af&&(an-au>K||e&&"left"==e),Z=af&&(K>an-au&&B>X||e&&"right"==e);(q||Z)&&ad.addClass("awemenu-invert")}else{var K=ag?av-at:av,X=ag?an-ad.width()-at:an-ad.width(),B=K-an,q=!af&&(an+au>K&&X>B||e&&"left"==e),Z=af&&(e&&"right"==e||K>an+au);(q||Z||aa.hasClass("awemenu-item-right")&&!ac)&&ad.addClass("awemenu-invert")}ad.hasClass("awemenu-invert")?(J=af?ai.arrows.right:ai.arrows.left,(ag||!ag&&!e)&&(af?(au>B||Q)&&(au=B):(au>X||Q)&&(au=X))):(J=af?ai.arrows.left:ai.arrows.right,(ag||!ag&&!e)&&(af?(au>X||Q)&&(au=X):(au>B||Q)&&(au=B))),al.addClass(J),au!==ab&&aq.width(au);var Y=aq.attr("data-vert-align")?aq.attr("data-vert-align"):!1;if(Y!==!1&&b.inArray(Y,["top","midle","bottom"])>-1){var F,E=0,am=ah||"bottom"==ai.position?0:aj+ak.height();"midle"==Y?(E=ad.height()/2-aq.height()/2,aq.css({top:E+"px",bottom:"auto"})):"bottom"==Y&&(E=ad.height()-aq.height(),aq.css({top:E+"px",bottom:"auto"})),F=aq.offset().top,am>F&&(E+=am-F,aq.css({top:E+"px",bottom:"auto"})),F=aq.offset().top,"bottom"==ai.position&&F+aq.height()>=aj&&(E-=F+aq.height()-aj,aq.css({top:E+"px",bottom:"auto"}))}}if("bottom"===ai.position){var G=aq.height(),L=b(window).height();(aq.offset().top<0||aa.hasClass("awemenu-vertical-invert"))&&(ad.addClass("awemenu-vertical-invert"),aq.offset().top+G>aj&&(ad.removeClass("awemenu-vertical-invert"),G>L&&aq.offset({top:0}).css("max-height",L-ak.height())))}}ag||b("> li.awemenu-item",aq).each(function(){if(!b(this).parent().hasClass("awemenu-megamenu")){var c=b(this);ae.totalItems++,ae.initMenuItem(c)}})}},onDocumentClick:function(d){var c=this.$el.hasClass("awemenu-active")||b(".awemenu-active",this.$el).length,e=!this.isMobile&&!b(d.target).closest("#"+this.menuID+" ul.awemenu").length&&!b(d.target).closest("#"+this.menuID+" .awemenu-bars").length,f=this.isMobile&&!b(d.target).closest("#"+this.menuID).length;c&&(e||f)&&this.resetMenu()},onResize:function(d){var c=this,e=window.innerWidth;this.detectDevice(),e!=this.ww&&(this.ww=e,this.resetMenu(),this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){c.initMenuItems(),b(window).trigger("scroll",d),c.resizeTimeout=0},300))},onScroll:function(v){var j=this.options,w=b(window).scrollTop(),f=!1,p="awemenu-sticky",e=(b(document).height()-window.outerHeight,j.sticky&&b.inArray(j.position,["outleft","outright","standard"])>-1&&!this.isMobile),d=j.sticky&&b.inArray(j.mobilePosition,["outleft","outright","standard"])>-1&&this.isMobile,q=0,g=w-this.menuTop>q;if(isNaN(parseInt(this.options.stickyOffset))){var k,m=this.options.stickyOffset.split("|");b.each(m,function(h,c){return b(c).length?k=c:void 0}),void 0!=k&&b(k).length&&(q=b(k).height())}else{parseInt(this.options.stickyOffset)}g&&(e||d)?this.stickyActivated&&"resize"!==v.type||(this.stickyReplacer||"absolute"===this.$el.css("position")||(this.stickyReplacer=b('<div class="awemenu-scticky-replacer"></div>').height(this.$el.outerHeight()).attr("id",this.stickyReplacerID),this.$el.before(this.stickyReplacer)),this.$el.css("top",q),this.addMenuClasses(p),this.stickyActivated=!0,f=!0,this.isMobile&&-1===b.inArray(this.options.mobilePosition,["outleft","outright"])&&this.setMenuMaxHeight()):(this.stickyActivated||"resize"===v.isTrigger)&&(b("#"+this.stickyReplacerID).remove(),this.stickyReplacer=null,this.removeMenuClasses(p),this.$el.css("top",""),this.stickyActivated=!1,f=!0,this.setMenuMaxHeight(!0))},activeSubMenu:function(e){var d=this,f=e.data("hide-submenu");if(f&&(clearTimeout(f),e.data("hide-submenu",!1)),this.options.beforeActive(e,this),b(".awemenu-item.awemenu-active",d.$el).data("parent-active",!1),e.parents(".awemenu-item").data("parent-active",!0),b(".awemenu-item.awemenu-active",d.$el).each(function(){b(this).data("parent-active")||d.deactiveSubMenu(b(this))}),b("> .awemenu-submenu",e).css({display:"block","z-index":""}),this.options.enableAnimation){var g=setTimeout(function(){e.addClass("awemenu-active"),e.data("show-timeout",0)},50);e.data("show-timeout",g)}else{e.addClass("awemenu-active")}if(this.isMobile){var c=this.options.arrows;b("> .awemenu-submenu",e).css("display","none"),b("> .awemenu-submenu",e).slideDown(this.options.mobileAnimationDuration),b("> a > .awemenu-arrow",e).removeClass(c.down).addClass(c.mobileClose)}this.options.active(e,this)},deactiveSubMenu:function(d){var c=parseInt(b("> .awemenu-submenu",d).attr("data-duration"));isNaN(c)?this.options.defaultDesktopAnimationDuration:c;if(this.options.enableAnimation&&d.data("show-timeout")&&(clearTimeout(d.data("show-timeout")),d.data("show-timeout",0)),this.options.beforeDeactive(d,this),this.isMobile){var e=this.options.arrows;b("> .awemenu-submenu",d).slideUp(this.options.mobileAnimationDuration,function(){d.removeClass("awemenu-active")}),b("> a > .awemenu-arrow",d).removeClass(e.mobileClose).addClass(e.down)}else{b("> .awemenu-submenu",d).css({"z-index":-1,display:""}),d.removeClass("awemenu-active")}this.options.deactive(d,this)},addMenuClasses:function(d){function c(f){-1===b.inArray(f,e.classes)&&e.classes.push(f)}var e=this;"string"===b.type(d)?c(d):"array"===b.type(d)&&b.each(d,function(){c(this)}),this.$el.addClass(this.classes.join(" "))},removeMenuClasses:function(d){function c(g){var f=b.inArray(g,e.classes);f>-1&&(e.classes.splice(f,1),e.$el.removeClass(g))}var e=this;switch(b.type(d)){case"array":b.each(d,function(){c(this)});break;case"string":c(d)}},setMenuMaxHeight:function(d){var c=this.$el.height(),e=b(window).height();d?b("ul.awemenu",this.$el).css("max-height",""):b("ul.awemenu",this.$el).css("max-height",e-c)},getMenuIndex:function(){return b(".awemenu-nav").index(this.$el)+1}},b.fn.aweMenu=function(c){var d=Array.prototype.slice.call(arguments,1),e=this;return this.each(function(){var f=b(this),i=f.data("awe-menu");switch(b.type(c)){case"string":var h=["option","destroy"];if(!i){throw Error("Error: cannot call methods on awrMenu prior to initialization;")}if(!(b.inArray(c,h)>-1)){throw Error('Error: method "'+c+'" does not exist on aweMenu')}switch(c){case"option":var g={};"object"==b.type(d[0])?(g=d[0],i.setOption(g)):"string"==b.type(d[0])&&(void 0!==d[1]?(g[d[0]]=d[1],i.setOption(g)):e=i.getOption(d[0]));break;case"destroy":i.destroy()}break;case"object":i?i.setOption(c):(i=new a(f,c),f.data("awe-menu",i));break;default:i||(i=new a(f,{}),f.data("awe-menu",i))}}),e}}(jQuery);
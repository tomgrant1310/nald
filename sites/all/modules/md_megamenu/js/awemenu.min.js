!function(e){"use strict";var t=function(t,i){this.default_opts={trigger:"hover",style:"awemenu-default",position:"standard",hoverTime:500,sticky:!0,stickyOffset:0,enableAnimation:!0,defaultDesktopAnimation:"fadeup",defaultDesktopAnimationDuration:300,mobileTrigger:"click",mobileStyle:"awemenu-mobile-default",mobilePosition:"standard",mobileAnimationDuration:500,responsiveWidth:780,customMenuBar:'<span class="fa fa-bars"></span>',showArrow:!0,showMobileArrow:!0,arrows:{up:"fa fa-angle-up",down:"fa fa-angle-down",left:"fa fa-angle-left",right:"fa fa-angle-right",mobileClose:"fa fa-close"},initialize:function(){},ready:function(){},beforeActive:function(){},active:function(){},beforeDeactive:function(){},deactive:function(){},destroy:function(){}},this.$el=t,i.arrows=e.extend({},this.default_opts.arrows,i.arrows),this.options=e.extend({},this.default_opts,i),i.initialize&&(this.options.initialize=i.initialize),this.menuID=t.attr("id"),this.menuID||(this.menuID="awemenu-no-"+e(".awemenu-nav").index(t),t.attr("id",this.menuID)),this.validateOptions(),this.initialize()};t.prototype={constructor:t,initialize:function(){this.isMobile=-1,this.ww=0,this.stickyActivated=!1,this.initializedTrigger=!1,this.menuTop=this.$el.offset().top,this.classes=[],this.itemsReady=0,this.stickyReplacerID="awemenu-scticky-replacer-"+this.getMenuIndex(),this.initMenu(),this.initTrigger()},initMenu:function(){var t=this,i=this.options;if(!e(".awemenu-bars",this.$el).length){var s=e('<div class="awemenu-bars" />').html(i.customMenuBar);e(".awemenu",this.$el).before(s)}e("i.awemenu-arrow",this.$el).remove(),this.$el.bind("windowResize",function(e,i){t.onResize(i)}),e(window).resize(function(e){t.$el.trigger("windowResize",e)}),e(window).trigger("resize"),this.$el.bind("windowScroll",function(e,i){t.onScroll(i)}),e(window).scroll(function(e,i){i?t.$el.trigger("windowScroll",i):t.$el.trigger("windowScroll",e)}),this.$el.bind("documentClick",function(e,i){t.onDocumentClick(i)}),e(document).click(function(e){t.$el.trigger("documentClick",e)}),this.isTouchDevice&&this.initDocumentTouch(),e(".awemenu-bars",this.$el).click(function(e){e.preventDefault(),t.isReady&&t.onMenuBarClick()}),i.initialize(this)},setOption:function(t){"object"==e.type(t)&&(this.options=e.extend({},this.options,this.validateOptions(t)),this.destroy(),this.initialize(),this.$el.data("awe-menu",this))},getObjectProperties:function(t){var i=[];return t&&"object"==e.type(t)&&e.each(t,function(e){i.push(e)}),i},validateOptions:function(t){var i=this,s=this.getObjectProperties(this.default_opts);return t&&"object"===e.type(t)||(t=this.options),e.each(t,function(n,a){if(-1===!e.inArray(n,s))delete t[n];else switch(n){case"trigger":-1===e.inArray(a,["click","hover","toggle"])&&(t[n]="hover");break;case"mobileTrigger":-1===e.inArray(a,["click","toggle"])&&(t[n]="click");break;case"position":case"mobilePosition":-1===e.inArray(a,["standard","top","left","bottom","right","outleft","outright"])&&(t[n]="standard");break;case"hoverTime":case"defaultDesktopAnimationDuration":case"mobileAnimationDuration":case"responsiveWidth":a=parseInt(a),t[n]=a,isNaN(a)&&(t[n]=i.default_opts[n]);break;case"initialize":case"ready":case"beforeActive":case"active":case"beforeDeactive":case"deactive":case"destroy":"function"!==e.type(a)&&(t[n]=i.default_opts[n]);break;case"mobileStyle":case"style":""==a&&(t[n]=i.default_opts[n])}}),t&&"object"===e.type(t)||(this.options=t),t},getOption:function(e){return e?this.options[e]:this.options},destroy:function(){this.itemsReady=0,this.isMobile=-1,this.stickyActivated=!1,this.initializedTrigger=!1,this.$el.data("awe-menu",!1),e("#"+this.stickyReplacerID).remove(),this.$el.removeClass(this.classes.join(" ")),this.classes=[],e(".awemenu-item",this.$el).unbind("mouseenter").unbind("mouseleave"),e(".awemenu-item > a",this.$el).unbind("click"),e(".awemenu-item > a > .awemenu-arrow",this.$el).unbind("click"),e(".awemenu-submenu",this.$el).each(function(){var t=e(this),i=t.data("animation");i&&t.parent().removeClass("awemenu-"+i),t.removeAttr("style")}),this.$el.unbind("windowResize").unbind("documentClick").unbind("windowScroll").unbind("aweMenuReady").undelegate(".awemenu-arrow","click"),e(".awemenu-bars",this.$el).unbind("click").remove(),this.options.destroy(this)},detectDevice:function(){{var t=window.innerWidth,i=this.options;e('<div class="awemenu-bars"><span class="fa fa-bars"></span></div>')}this.isTouchDevice=navigator.userAgent.match(/Androi|WebOS|iPod|iPad|Blackberry|Windows Phone/i)?!0:!1,this.isTouchDevice&&"hover"==this.options.trigger&&(this.options.trigger="click"),t<this.options.responsiveWidth?this.isMobile&&-1!==this.isMobile||(this.isMobile=!0,this.addMenuClasses(["awemenu-mobile",i.mobileStyle,"awemenu-mobile-"+i.mobilePosition]),this.removeMenuClasses([i.style,"awemenu-"+i.position])):(this.isMobile||-1===this.isMobile)&&(this.isMobile=!1,this.removeMenuClasses(["awemenu-mobile",i.mobileStyle,"awemenu-mobile-"+i.mobilePosition]),this.addMenuClasses([i.style,"awemenu-"+i.position])),!this.isMobile&&this.options.enableAnimation?this.addMenuClasses("awemenu-animation"):this.removeMenuClasses("awemenu-animation")},resetMenu:function(){var t=this;e(".awemenu-item.awemenu-active",this.$el).each(function(){t.deactiveSubMenu(e(this))}),this.$el.hasClass("awemenu-active")&&(this.isMobile||e.inArray(this.options.position,["outleft","outright"])>-1)&&t.onMenuBarClick()},onMenuBarClick:function(){var t=this,i=this.options;if(this.isMobile&&e("body").toggleClass("awemenu-"+this.getMenuIndex()+"-mobile-active"),-1===e.inArray(i.mobilePosition,["outleft","outright"])&&-1===e.inArray(i.position,["outleft","outright"])){var s=e("ul.awemenu",t.$el);t.$el.hasClass("awemenu-active")?s.slideUp(i.mobileAnimationDuration,function(){t.$el.removeClass("awemenu-active")}):s.slideDown(i.mobileAnimationDuration,function(){t.$el.addClass("awemenu-active")})}else t.$el.toggleClass("awemenu-active")},initTrigger:function(){var t=this;this.$el.bind("aweMenuReady",function(){"hover"===t.options.trigger&&t.initTriggerHover(e(this)),t.initTriggerClick(e(this)),t.initializedTrigger=!0,t.options.ready(t)})},initTriggerHover:function(){var t=this;e("li.awemenu-item",this.$el).bind("mouseenter",function(){var i=e(this),s=i.data("hide-submenu");!t.isMobile&&t.isReady&&(i.data("hover-out",!1),s&&(clearTimeout(s),i.data("hide-submenu")),e("> a",i).length&&setTimeout(function(){i.data("hover-out")||t.activeSubMenu(i)},t.options.hoverTime))}).bind("mouseleave",function(){var i=e(this);!t.isMobile&&t.isReady&&(i.data("hover-out",!0),t.deactiveSubMenu(i))})},initTriggerClick:function(){var t=this,i=this.options;e("li.awemenu-item > a",this.$el).click(function(s){var n=e(this).parent();if(!t.isReady)return void s.preventDefault();if(t.isMobile||"hover"!==i.trigger){if(n.hasClass("awemenu-active")){if(t.deactiveSubMenu(n),!t.isMobile&&"toggle"==i.trigger||t.isMobile&&"toggle"==i.mobileTrigger)return void s.preventDefault()}else if(e("> .awemenu-submenu",n).length)return s.preventDefault(),void t.activeSubMenu(n);t.resetMenu()}}),e("i.awemenu-arrow",this.$el).click(function(i){var s=e(this).parents("li.awemenu-item:first");t.isMobile&&s.hasClass("awemenu-active")&&(i.preventDefault(),i.stopPropagation(),t.deactiveSubMenu(s))})},initDocumentTouch:function(){var t=this,i=!1;e(document).bind("touchstart",function(){i=!0}),e(document).bind("touchmove",function(){i=!1}),e(document).bind("touchend",function(e){i&&t.onDocumentClick(e)})},initMenuItems:function(){var t=this,i=0;this.isReady=!1,this.itemsReady=0,this.totalItems=0,(!this.isMobile&&this.options.showArrow||this.isMobile&&this.options.showMobileArrow)&&!e(".awemenu-arrow",this.$el).length&&e(".awemenu-item > a",this.$el).append(e('<i class="awemenu-arrow"></i>').addClass(this.options.arrows.up)),this.stickyReplacer&&(this.stickyReplacer.remove(),this.stickyReplacer=null),e("li.awemenu-item.awemenu-active-trail",this.$el).parents(".awemenu-item").addClass("awemenu-active-trail"),e(".awemenu-item > a",this.$el).css("transition","none"),this.removeMenuClasses("awemenu-animation"),e(".awemenu-submenu",this.$el).removeAttr("style").css({display:"block",opacity:0,visibility:"hidden"}),e("ul.awemenu",this.$el).removeAttr("style"),e.inArray(this.options.position,["outleft","outright"])>-1&&(e("ul.awemenu",this.$el).css({transition:"none",opacity:0,visibility:"hidden"}),this.$el.addClass("awemenu-active")),e(".awemenu-item > a",this.$el).css("transition","none"),setTimeout(function(){e("ul.awemenu > li.awemenu-item",t.$el).each(function(){if(!e(this).parent().hasClass("awemenu-megamenu")){var i=e(this);t.totalItems++,t.initMenuItem(i)}})},100);var s=setInterval(function(){t.itemsReady>=i&&(clearInterval(s),e(".awemenu-submenu",t.$el).css({display:"",opacity:"",visibility:""}),e.inArray(t.options.position,["outleft","outright"])>-1&&(t.$el.removeClass("awemenu-active"),e("ul.awemenu",t.$el).css({transition:"",opacity:"",visibility:""})),e(".awemenu-item > a",this.$el).css("transition",""),!t.isMobile&&t.options.enableAnimation&&setTimeout(function(){t.addMenuClasses("awemenu-animation")},50),t.initializedTrigger||t.$el.trigger("aweMenuReady"),t.isMobile&&(e.inArray(t.options.mobilePosition,["top","bottom"])>-1||t.stickyActivated)&&t.setMenuMaxHeight(),e(".awemenu-item > a",t.$el).css("transition",""),t.isReady=!0)},100)},initMenuItem:function(t){t.data("right-item")&&!e.inArray(this.options.position,["left","right","outright","outleft"])>-1&&t.addClass("awemenu-item-right"),e("> .awemenu-submenu",t).length&&t.addClass("awemenu-has-children"),this.initItemArrow(t),this.initSubMenu(t),this.options.enableAnimation&&this.initSubmenuAnimation(t),this.itemsReady++},initItemArrow:function(t){if((!this.isMobile&&this.options.showArrow||this.isMobile&&this.options.showMobileArrow)&&e("> .awemenu-submenu",t).length){var i,s=this.options,n=t.parents(".awemenu-item").length?!1:!0,a=(e.inArray(s.position,["left","right","outleft","outright"])>-1,e.inArray(s.position,["right","outright"])>-1),o=(e.inArray(s.position,["left","outleft"])>-1,s.arrows.right);if(i=e("> a > .awemenu-arrow",t).removeClass().show(),this.isMobile)o=s.arrows.down;else if(a)o=s.arrows.left;else if(n)switch(s.position){case"standard":case"top":o=s.arrows.down;break;case"right":o=s.arrows.left;break;case"bottom":o=s.arrows.up}i.addClass("awemenu-arrow").addClass(o)}else e(".awemenu-arrow",t).hide()},initSubmenuAnimation:function(t){if(!this.isMobile&&e("> .awemenu-submenu",t).length){var i=e("> .awemenu-submenu",t),s=i.attr("data-animation")?i.attr("data-animation"):this.options.defaultDesktopAnimation,n=i.attr("data-duration");s&&(t.addClass("awemenu-"+s),n||(n=this.options.defaultDesktopAnimationDuration),isNaN(parseInt(n))||(n=parseInt(n)+"ms",i.css("transition-duration",n)))}},initSubMenu:function(t){if(t.removeClass("awemenu-invert awemenu-vertical-invert"),e("> .awemenu-submenu",t).length){{var i,s=this,n=this.options,a=window.innerWidth,o=e.inArray(n.position,["left","right","outleft","outright"])>-1,r=e.inArray(n.position,["right","outright"])>-1,u=e.inArray(n.position,["left","outleft"])>-1,l=o?e("ul.awemenu",this.$el):e(".awemenu-container",this.$el),h=l.width(),c=r?a-(l.offset().left+h):l.offset().left,m=l.offset().top,d=u?a-c:l.offset().left+h,w=t.parents(".awemenu-item:first"),f=e("> .awemenu-submenu",t),p=f.hasClass("awemenu-megamenu"),v=f.width(),b=f.data("width"),g=1==f.parents(".awemenu-item").length?!0:!1;t.parents(".awemenu-item-right").length}if(!this.isMobile){switch(n.position){case"right":case"outright":i=t.offset().left-v;break;case"left":case"outleft":i=t.offset().left+t.width();break;default:i=t.offset().left}switch(e.type(b)){case"string":b=isNaN(parseInt(b))?v:b.indexOf("%")>-1?parseInt(b)<100?Math.round(parseInt(b)*h/100):o?v:h:parseInt(b);break;case"number":break;default:b=v}if(g&&!o){var y=f.attr("data-hoz-align")?f.attr("data-hoz-align"):!1;b>=h?(b=h,f.offset({left:c})):y!==!1&&e.inArray(y,["left","center","right"])>-1?("center"===y?(i=i+t.width()/2-b/2,c>i?i=c:i+b>d&&(i=d-b)):"right"===y&&(i=i+t.width()-b,c>i&&(i=c)),f.offset({left:i})):i+b>d&&f.offset({left:d-b}),b!==v&&f.width(b)}else{var M,k=e("> a > .awemenu-arrow",t),C=r&&!w.hasClass("awemenu-invert")||w.hasClass("awemenu-invert")&&!r,A=t.offset().left,$=A+t.width(),i=C?A:$,D=p&&b===v&&(o||!g),T=f.attr("data-position");if(k.removeClass(n.arrows.up+" "+n.arrows.down+" "+n.arrows.left+" "+n.arrows.right+" "+n.arrows.mobileClose),C){var I=p?a-d:0,z=i-I,R=p?d-$:a-$,S=!r&&(i-b>I||T&&"left"==T),x=r&&(I>i-b&&R>z||T&&"right"==T);(S||x)&&t.addClass("awemenu-invert")}else{var I=p?a-c:a,z=p?i-t.width()-c:i-t.width(),R=I-i,S=!r&&(i+b>I&&z>R||T&&"left"==T),x=r&&(T&&"right"==T||I>i+b);(S||x||w.hasClass("awemenu-item-right")&&!u)&&t.addClass("awemenu-invert")}t.hasClass("awemenu-invert")?(M=r?n.arrows.right:n.arrows.left,(p||!p&&!T)&&(r?(b>R||D)&&(b=R):(b>z||D)&&(b=z))):(M=r?n.arrows.left:n.arrows.right,(p||!p&&!T)&&(r?(b>z||D)&&(b=z):(b>R||D)&&(b=R))),k.addClass(M),b!==v&&f.width(b);var y=f.attr("data-vert-align")?f.attr("data-vert-align"):!1;if(y!==!1&&e.inArray(y,["top","midle","bottom"])>-1){var O,P=0,j=o||"bottom"==n.position?0:m+l.height();"midle"==y?(P=t.height()/2-f.height()/2,f.css({top:P+"px",bottom:"auto"})):"bottom"==y&&(P=t.height()-f.height(),f.css({top:P+"px",bottom:"auto"})),O=f.offset().top,j>O&&(P+=j-O,f.css({top:P+"px",bottom:"auto"})),O=f.offset().top,"bottom"==n.position&&O+f.height()>=m&&(P-=O+f.height()-m,f.css({top:P+"px",bottom:"auto"}))}}if("bottom"===n.position){var N=f.height(),H=e(window).height();(f.offset().top<0||w.hasClass("awemenu-vertical-invert"))&&(t.addClass("awemenu-vertical-invert"),f.offset().top+N>m&&(t.removeClass("awemenu-vertical-invert"),N>H&&f.offset({top:0}).css("max-height",H-l.height())))}}p||e("> li.awemenu-item",f).each(function(){if(!e(this).parent().hasClass("awemenu-megamenu")){var t=e(this);s.totalItems++,s.initMenuItem(t)}})}},onDocumentClick:function(t){var i=this.$el.hasClass("awemenu-active")||e(".awemenu-active",this.$el).length,s=!this.isMobile&&!e(t.target).closest("#"+this.menuID+" ul.awemenu").length&&!e(t.target).closest("#"+this.menuID+" .awemenu-bars").length,n=this.isMobile&&!e(t.target).closest("#"+this.menuID).length;i&&(s||n)&&this.resetMenu()},onResize:function(t){var i=this,s=window.innerWidth;this.detectDevice(),s!=this.ww&&(this.ww=s,this.resetMenu(),this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){i.initMenuItems(),e(window).trigger("scroll",t),i.resizeTimeout=0},300))},onScroll:function(t){var i=this.options,s=e(window).scrollTop(),n=!1,a="awemenu-sticky",o=(e(document).height()-window.outerHeight,i.sticky&&e.inArray(i.position,["outleft","outright","standard"])>-1&&!this.isMobile),r=i.sticky&&e.inArray(i.mobilePosition,["outleft","outright","standard"])>-1&&this.isMobile,u=0,l=s-this.menuTop>u;if(isNaN(parseInt(this.options.stickyOffset))){var h,c=this.options.stickyOffset.split("|");e.each(c,function(t,i){return e(i).length?h=i:void 0}),void 0!=h&&e(h).length&&(u=e(h).height())}else parseInt(this.options.stickyOffset);l&&(o||r)?this.stickyActivated&&"resize"!==t.type||(this.stickyReplacer||"absolute"===this.$el.css("position")||(this.stickyReplacer=e('<div class="awemenu-scticky-replacer"></div>').height(this.$el.outerHeight()).attr("id",this.stickyReplacerID),this.$el.before(this.stickyReplacer)),this.$el.css("top",u),this.addMenuClasses(a),this.stickyActivated=!0,n=!0,this.isMobile&&-1===e.inArray(this.options.mobilePosition,["outleft","outright"])&&this.setMenuMaxHeight()):(this.stickyActivated||"resize"===t.isTrigger)&&(e("#"+this.stickyReplacerID).remove(),this.stickyReplacer=null,this.removeMenuClasses(a),this.$el.css("top",""),this.stickyActivated=!1,n=!0,this.setMenuMaxHeight(!0))},activeSubMenu:function(t){var i=this,s=t.data("hide-submenu");if(s&&(clearTimeout(s),t.data("hide-submenu",!1)),this.options.beforeActive(t,this),e(".awemenu-item.awemenu-active",i.$el).data("parent-active",!1),t.parents(".awemenu-item").data("parent-active",!0),e(".awemenu-item.awemenu-active",i.$el).each(function(){e(this).data("parent-active")||i.deactiveSubMenu(e(this))}),e("> .awemenu-submenu",t).css({display:"block","z-index":""}),this.options.enableAnimation){var n=setTimeout(function(){t.addClass("awemenu-active"),t.data("show-timeout",0)},50);t.data("show-timeout",n)}else t.addClass("awemenu-active");if(this.isMobile){var a=this.options.arrows;e("> .awemenu-submenu",t).css("display","none"),e("> .awemenu-submenu",t).slideDown(this.options.mobileAnimationDuration),e("> a > .awemenu-arrow",t).removeClass(a.down).addClass(a.mobileClose)}this.options.active(t,this)},deactiveSubMenu:function(t){{var i=parseInt(e("> .awemenu-submenu",t).attr("data-duration"));isNaN(i)?this.options.defaultDesktopAnimationDuration:i}if(this.options.enableAnimation&&t.data("show-timeout")&&(clearTimeout(t.data("show-timeout")),t.data("show-timeout",0)),this.options.beforeDeactive(t,this),this.isMobile){var s=this.options.arrows;e("> .awemenu-submenu",t).slideUp(this.options.mobileAnimationDuration,function(){t.removeClass("awemenu-active")}),e("> a > .awemenu-arrow",t).removeClass(s.mobileClose).addClass(s.down)}else e("> .awemenu-submenu",t).css({"z-index":-1,display:""}),t.removeClass("awemenu-active");this.options.deactive(t,this)},addMenuClasses:function(t){function i(t){-1===e.inArray(t,s.classes)&&s.classes.push(t)}var s=this;"string"===e.type(t)?i(t):"array"===e.type(t)&&e.each(t,function(){i(this)}),this.$el.addClass(this.classes.join(" "))},removeMenuClasses:function(t){function i(t){var i=e.inArray(t,s.classes);i>-1&&(s.classes.splice(i,1),s.$el.removeClass(t))}var s=this;switch(e.type(t)){case"array":e.each(t,function(){i(this)});break;case"string":i(t)}},setMenuMaxHeight:function(t){var i=this.$el.height(),s=e(window).height();t?e("ul.awemenu",this.$el).css("max-height",""):e("ul.awemenu",this.$el).css("max-height",s-i)},getMenuIndex:function(){return e(".awemenu-nav").index(this.$el)+1}},e.fn.aweMenu=function(i){var s=Array.prototype.slice.call(arguments,1),n=this;return this.each(function(){var a=e(this),o=a.data("awe-menu");switch(e.type(i)){case"string":var r=["option","destroy"];if(!o)throw Error("Error: cannot call methods on awrMenu prior to initialization;");if(!(e.inArray(i,r)>-1))throw Error('Error: method "'+i+'" does not exist on aweMenu');switch(i){case"option":var u={};"object"==e.type(s[0])?(u=s[0],o.setOption(u)):"string"==e.type(s[0])&&(void 0!==s[1]?(u[s[0]]=s[1],o.setOption(u)):n=o.getOption(s[0]));break;case"destroy":o.destroy()}break;case"object":o?o.setOption(i):(o=new t(a,i),a.data("awe-menu",o));break;default:o||(o=new t(a,{}),a.data("awe-menu",o))}}),n}}(jQuery);